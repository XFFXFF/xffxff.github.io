<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/github.min.css"/><title>如何在 k8s 上部署单节点的 redis</title><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/7eb40cdb0d262f08.css" as="style"/><link rel="stylesheet" href="/_next/static/css/7eb40cdb0d262f08.css" data-n-g=""/><link rel="preload" href="/_next/static/css/efe113e632f4289b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/efe113e632f4289b.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-e70c6273bfe3f237.js" defer=""></script><script src="/_next/static/chunks/main-d719a31ca00eb19c.js" defer=""></script><script src="/_next/static/chunks/pages/_app-fcb060ba8fa2b368.js" defer=""></script><script src="/_next/static/chunks/640-1a3a0dc0790efd2e.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-03d1a37039c741de.js" defer=""></script><script src="/_next/static/gphtht4ZYiYwf5L56CA4R/_buildManifest.js" defer=""></script><script src="/_next/static/gphtht4ZYiYwf5L56CA4R/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div class="layout_container__fbLkO"><main><article><h1 class="utils_headingXl__u25Y2">如何在 k8s 上部署单节点的 redis</h1><div class="utils_lightText__eUzGY"><time dateTime="2023-06-14">June 14, 2023</time></div><div><p>背景是这样的，项目的测试环境需要 redis，对于测试环境来说，redis 的高可用性要求不高，所以就想着部署一个单节点的 redis，但在网上逛了一圈，发现教程都是部署 redis-cluster 的，看起来比较麻烦，所以我就想着不如从零开始使用 k8s YAML 文件的方式部署一个单节点的 redis。此文就是记录这个过程。</p>
<h2>创建 deployment</h2>
<pre><code class="hljs language-bash">kubectl create deployment my-redis --image=redis:latest --dry-run=client -o yaml > deployment.yaml 
</code></pre>
<p>以上命令会生成一个 deployment.yaml 文件，内容如下：</p>
<pre><code class="hljs language-yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">apps/v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Deployment</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">creationTimestamp:</span> <span class="hljs-literal">null</span>
  <span class="hljs-attr">labels:</span>
    <span class="hljs-attr">app:</span> <span class="hljs-string">my-redis</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">my-redis</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">replicas:</span> <span class="hljs-number">1</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">matchLabels:</span>
      <span class="hljs-attr">app:</span> <span class="hljs-string">my-redis</span>
  <span class="hljs-attr">strategy:</span> {}
  <span class="hljs-attr">template:</span>
    <span class="hljs-attr">metadata:</span>
      <span class="hljs-attr">creationTimestamp:</span> <span class="hljs-literal">null</span>
      <span class="hljs-attr">labels:</span>
        <span class="hljs-attr">app:</span> <span class="hljs-string">my-redis</span>
    <span class="hljs-attr">spec:</span>
      <span class="hljs-attr">containers:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">image:</span> <span class="hljs-string">redis:latest</span>
        <span class="hljs-attr">name:</span> <span class="hljs-string">redis</span>
        <span class="hljs-attr">resources:</span> {}
<span class="hljs-attr">status:</span> {}
</code></pre>
<p><code>--image=redis:latest</code> 指定了使用的镜像，<code>--dry-run=client</code> 和 <code>-o yaml</code> 参数是为了生成 yaml 文件，而不是直接创建 deployment，如果不加这两个参数，会直接在 k8s 中创建 deployment。</p>
<h2>暴露服务</h2>
<p>我们需要将 redis 服务暴露出来，这样才能在集群上的其他 pod 中或者公司内网中访问到 redis 服务。这里使用 LoadBalancer 类型的 service。上一节中我们创建的 deployment 的名字是 my-redis，redis 默认的端口是 6379，所以我们可以使用以下命令创建 service：</p>
<pre><code class="hljs language-bash">kubectl expose deployment my-redis --port 6379 --target-port 6379 --name=my-redis-service --<span class="hljs-built_in">type</span>=LoadBalancer --dry-run=client -o yaml > service.yaml
</code></pre>
<p>以上命令会生成一个 service.yaml 文件，内容如下：</p>
<pre><code class="hljs language-yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Service</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">creationTimestamp:</span> <span class="hljs-literal">null</span>
  <span class="hljs-attr">labels:</span>
    <span class="hljs-attr">app:</span> <span class="hljs-string">my-redis</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">my-redis-service</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">ports:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">port:</span> <span class="hljs-number">6379</span>
    <span class="hljs-attr">protocol:</span> <span class="hljs-string">TCP</span>
    <span class="hljs-attr">targetPort:</span> <span class="hljs-number">6379</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">app:</span> <span class="hljs-string">my-redis</span>
  <span class="hljs-attr">type:</span> <span class="hljs-string">LoadBalancer</span>
<span class="hljs-attr">status:</span>
  <span class="hljs-attr">loadBalancer:</span> {}

</code></pre>
<h2>让 deployment 和 service 生效</h2>
<pre><code class="hljs language-bash">kubectl apply -f deployment.yaml
kubectl apply -f service.yaml
</code></pre>
<p>或者</p>
<pre><code class="hljs language-bash">kubectl apply -f . <span class="hljs-comment"># 一次性应用所有 yaml 文件</span>
</code></pre>
<p>查看 deployment 和 service 是否生效：</p>
<pre><code class="hljs language-bash">> kubectl get svc | grep my-redis
my-redis-service   LoadBalancer   10.244.116.225   11.1.101.115 6379:32387/TCP 2m

> kubectl get pods | grep my-redis
my-redis-d8f7b7d64-sx87r    1/1     Running   0          14m
</code></pre>
<p>测试一下：</p>
<pre><code class="hljs language-bash">> redis-cli -h 11.1.101.115
</code></pre>
<h2>修改 redis 配置</h2>
<p>我们现在是使用的 redis 的默认配置，但是如果我们需要修改一下配置，比如设置密码，怎么做呢？</p>
<p>参考 <a href="https://hub.docker.com/_/redis">redis docker 镜像文档</a>，我们需要将需要修改的配置文件挂载到容器中 <code>/usr/local/etc/redis/redis.conf</code> 这个路径下，然后在启动容器的时候指定配置文件的路径 <code>redis-server /usr/local/etc/redis/redis.conf</code>。</p>
<p>我们可以使用 ConfigMap 来挂载配置文件，然后在 deployment 中指定挂载的路径，这样就可以修改 redis 的配置了。</p>
<h3>创建 ConfigMap</h3>
<p>首先我们在本地创建一个 redis.conf 文件，内容如下：</p>
<pre><code class="hljs">requirepass 123456
</code></pre>
<p>根据 redis.conf 文件创建名为 my-redis-config 的 ConfigMap</p>
<pre><code class="hljs language-bash">kubectl create configmap my-redis-config --from-file=redis.conf --dry-run=client -o yaml > configmap.yaml
</code></pre>
<p>以上命令会生成一个 configmap.yaml 文件，内容如下：</p>
<pre><code class="hljs language-yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">data:</span>
  <span class="hljs-attr">redis.conf:</span> <span class="hljs-string">|
    requirepass 123456
</span><span class="hljs-attr">kind:</span> <span class="hljs-string">ConfigMap</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">creationTimestamp:</span> <span class="hljs-literal">null</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">my-redis-config</span>
</code></pre>
<h3>修改 deployment</h3>
<p>修改 deployment.yaml 文件，添加 volumes 和 volumeMounts 以及 command：</p>
<pre><code class="hljs language-diff">apiVersion: apps/v1
kind: Deployment
metadata:
  creationTimestamp: null
  labels:
    app: my-redis
  name: my-redis
spec:
  replicas: 1
  selector:
    matchLabels:
      app: my-redis
  strategy: {}
  template:
    metadata:
      creationTimestamp: null
      labels:
        app: my-redis
    spec:
      containers:
      - image: redis:latest
        name: redis
        resources: {}
<span class="hljs-addition">+        volumeMounts:</span>
<span class="hljs-addition">+        - mountPath: /usr/local/etc/redis</span>
<span class="hljs-addition">+          name: redis-config</span>
<span class="hljs-addition">+          command: ["redis-server", "/usr/local/etc/redis/redis.conf"]</span>
<span class="hljs-addition">+      volumes:</span>
<span class="hljs-addition">+      - name: redis-config</span>
<span class="hljs-addition">+        configMap:</span>
<span class="hljs-addition">+          name: my-redis-config</span>
status: {}
</code></pre></div></article></main><div class="layout_backToHome__9sjx_"><a href="/">← Back to home</a></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"redis_deployment","contentHtml":"\u003cp\u003e背景是这样的，项目的测试环境需要 redis，对于测试环境来说，redis 的高可用性要求不高，所以就想着部署一个单节点的 redis，但在网上逛了一圈，发现教程都是部署 redis-cluster 的，看起来比较麻烦，所以我就想着不如从零开始使用 k8s YAML 文件的方式部署一个单节点的 redis。此文就是记录这个过程。\u003c/p\u003e\n\u003ch2\u003e创建 deployment\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003ekubectl create deployment my-redis --image=redis:latest --dry-run=client -o yaml \u003e deployment.yaml \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e以上命令会生成一个 deployment.yaml 文件，内容如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-yaml\"\u003e\u003cspan class=\"hljs-attr\"\u003eapiVersion:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eapps/v1\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003ekind:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eDeployment\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003emetadata:\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003ecreationTimestamp:\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003elabels:\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003eapp:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003emy-redis\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003emy-redis\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003espec:\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003ereplicas:\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003eselector:\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003ematchLabels:\u003c/span\u003e\n      \u003cspan class=\"hljs-attr\"\u003eapp:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003emy-redis\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003estrategy:\u003c/span\u003e {}\n  \u003cspan class=\"hljs-attr\"\u003etemplate:\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003emetadata:\u003c/span\u003e\n      \u003cspan class=\"hljs-attr\"\u003ecreationTimestamp:\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e\n      \u003cspan class=\"hljs-attr\"\u003elabels:\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003eapp:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003emy-redis\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003espec:\u003c/span\u003e\n      \u003cspan class=\"hljs-attr\"\u003econtainers:\u003c/span\u003e\n      \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eimage:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eredis:latest\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eredis\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003eresources:\u003c/span\u003e {}\n\u003cspan class=\"hljs-attr\"\u003estatus:\u003c/span\u003e {}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003e--image=redis:latest\u003c/code\u003e 指定了使用的镜像，\u003ccode\u003e--dry-run=client\u003c/code\u003e 和 \u003ccode\u003e-o yaml\u003c/code\u003e 参数是为了生成 yaml 文件，而不是直接创建 deployment，如果不加这两个参数，会直接在 k8s 中创建 deployment。\u003c/p\u003e\n\u003ch2\u003e暴露服务\u003c/h2\u003e\n\u003cp\u003e我们需要将 redis 服务暴露出来，这样才能在集群上的其他 pod 中或者公司内网中访问到 redis 服务。这里使用 LoadBalancer 类型的 service。上一节中我们创建的 deployment 的名字是 my-redis，redis 默认的端口是 6379，所以我们可以使用以下命令创建 service：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003ekubectl expose deployment my-redis --port 6379 --target-port 6379 --name=my-redis-service --\u003cspan class=\"hljs-built_in\"\u003etype\u003c/span\u003e=LoadBalancer --dry-run=client -o yaml \u003e service.yaml\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e以上命令会生成一个 service.yaml 文件，内容如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-yaml\"\u003e\u003cspan class=\"hljs-attr\"\u003eapiVersion:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003ev1\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003ekind:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eService\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003emetadata:\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003ecreationTimestamp:\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003elabels:\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003eapp:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003emy-redis\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003emy-redis-service\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003espec:\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003eports:\u003c/span\u003e\n  \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eport:\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e6379\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003eprotocol:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eTCP\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003etargetPort:\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e6379\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003eselector:\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003eapp:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003emy-redis\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003etype:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eLoadBalancer\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003estatus:\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003eloadBalancer:\u003c/span\u003e {}\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003e让 deployment 和 service 生效\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003ekubectl apply -f deployment.yaml\nkubectl apply -f service.yaml\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e或者\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003ekubectl apply -f . \u003cspan class=\"hljs-comment\"\u003e# 一次性应用所有 yaml 文件\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e查看 deployment 和 service 是否生效：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e\u003e kubectl get svc | grep my-redis\nmy-redis-service   LoadBalancer   10.244.116.225   11.1.101.115 6379:32387/TCP 2m\n\n\u003e kubectl get pods | grep my-redis\nmy-redis-d8f7b7d64-sx87r    1/1     Running   0          14m\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e测试一下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e\u003e redis-cli -h 11.1.101.115\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003e修改 redis 配置\u003c/h2\u003e\n\u003cp\u003e我们现在是使用的 redis 的默认配置，但是如果我们需要修改一下配置，比如设置密码，怎么做呢？\u003c/p\u003e\n\u003cp\u003e参考 \u003ca href=\"https://hub.docker.com/_/redis\"\u003eredis docker 镜像文档\u003c/a\u003e，我们需要将需要修改的配置文件挂载到容器中 \u003ccode\u003e/usr/local/etc/redis/redis.conf\u003c/code\u003e 这个路径下，然后在启动容器的时候指定配置文件的路径 \u003ccode\u003eredis-server /usr/local/etc/redis/redis.conf\u003c/code\u003e。\u003c/p\u003e\n\u003cp\u003e我们可以使用 ConfigMap 来挂载配置文件，然后在 deployment 中指定挂载的路径，这样就可以修改 redis 的配置了。\u003c/p\u003e\n\u003ch3\u003e创建 ConfigMap\u003c/h3\u003e\n\u003cp\u003e首先我们在本地创建一个 redis.conf 文件，内容如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs\"\u003erequirepass 123456\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e根据 redis.conf 文件创建名为 my-redis-config 的 ConfigMap\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003ekubectl create configmap my-redis-config --from-file=redis.conf --dry-run=client -o yaml \u003e configmap.yaml\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e以上命令会生成一个 configmap.yaml 文件，内容如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-yaml\"\u003e\u003cspan class=\"hljs-attr\"\u003eapiVersion:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003ev1\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003edata:\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003eredis.conf:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e|\n    requirepass 123456\n\u003c/span\u003e\u003cspan class=\"hljs-attr\"\u003ekind:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eConfigMap\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003emetadata:\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003ecreationTimestamp:\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003emy-redis-config\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003e修改 deployment\u003c/h3\u003e\n\u003cp\u003e修改 deployment.yaml 文件，添加 volumes 和 volumeMounts 以及 command：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-diff\"\u003eapiVersion: apps/v1\nkind: Deployment\nmetadata:\n  creationTimestamp: null\n  labels:\n    app: my-redis\n  name: my-redis\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: my-redis\n  strategy: {}\n  template:\n    metadata:\n      creationTimestamp: null\n      labels:\n        app: my-redis\n    spec:\n      containers:\n      - image: redis:latest\n        name: redis\n        resources: {}\n\u003cspan class=\"hljs-addition\"\u003e+        volumeMounts:\u003c/span\u003e\n\u003cspan class=\"hljs-addition\"\u003e+        - mountPath: /usr/local/etc/redis\u003c/span\u003e\n\u003cspan class=\"hljs-addition\"\u003e+          name: redis-config\u003c/span\u003e\n\u003cspan class=\"hljs-addition\"\u003e+          command: [\"redis-server\", \"/usr/local/etc/redis/redis.conf\"]\u003c/span\u003e\n\u003cspan class=\"hljs-addition\"\u003e+      volumes:\u003c/span\u003e\n\u003cspan class=\"hljs-addition\"\u003e+      - name: redis-config\u003c/span\u003e\n\u003cspan class=\"hljs-addition\"\u003e+        configMap:\u003c/span\u003e\n\u003cspan class=\"hljs-addition\"\u003e+          name: my-redis-config\u003c/span\u003e\nstatus: {}\n\u003c/code\u003e\u003c/pre\u003e","title":"如何在 k8s 上部署单节点的 redis","date":"2023-06-14"}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"redis_deployment"},"buildId":"gphtht4ZYiYwf5L56CA4R","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>